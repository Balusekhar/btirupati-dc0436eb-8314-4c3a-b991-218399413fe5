@import '@primer/css/dist/primer.css';
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Global responsive foundations ── */
html {
  -webkit-text-size-adjust: 100%;
  overflow-x: hidden;
}
body {
  overflow-x: hidden;
  min-height: 100dvh;
}

/* Safe-area insets for notched devices (iPhone etc.) */
@supports (padding: env(safe-area-inset-top)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}

/* ── Ensure form inputs have visible borders (Tailwind base reset strips them) ── */
.form-control,
.form-select {
  border: 1px solid #d0d7de;
  border-radius: 6px;
  padding: 5px 12px;
  font-size: 14px;
  line-height: 20px;
  background-color: #fff;
  transition: border-color 0.15s ease-in-out;
  /* Mobile-friendly: larger touch target */
  min-height: 38px;
  width: 100%;
  box-sizing: border-box;
}
.form-control:focus,
.form-select:focus {
  border-color: theme('colors.brand.DEFAULT');
  outline: none;
  box-shadow: 0 0 0 3px theme('colors.brand.DEFAULT' / 15%);
}

/* Invalid field styling — red border */
.form-control.border-red-500,
.form-select.border-red-500 {
  border-color: #cf222e !important;
}
.form-control.border-red-500:focus,
.form-select.border-red-500:focus {
  box-shadow: 0 0 0 3px rgba(207, 34, 46, 0.15);
}

/* ── Touch-friendly tap targets ── */
@layer utilities {
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Buttons: ensure minimum tap target on mobile */
button,
[type='button'],
[type='submit'],
a.btn-brand,
a.btn-brand-sm,
a.btn-brand-lg {
  -webkit-tap-highlight-color: transparent;
}

/* ── Brand CTA button (reusable) ── */
@layer components {
  .btn-brand {
    @apply inline-block rounded-full bg-brand text-white font-semibold no-underline transition;
  }
  .btn-brand:hover {
    @apply bg-brand-dark shadow-md;
  }
  .btn-brand-sm {
    @apply btn-brand px-4 py-1.5 text-sm;
  }
  .btn-brand-lg {
    @apply btn-brand px-8 py-3 text-base shadow-lg;
  }
  .btn-brand-lg:hover {
    @apply shadow-xl;
  }
}

/* ── Responsive typography scale ── */
@media (max-width: 639px) {
  h1 {
    font-size: 1.5rem;
  }
  .text-2xl {
    font-size: 1.375rem;
  }
}

/* ── Mobile-first utility: prevent tables/pre from blowing layout ── */
pre,
table {
  max-width: 100%;
  overflow-x: auto;
}

/* ── Scrollable content in constrained containers ── */
.overflow-wrap-anywhere {
  overflow-wrap: anywhere;
  word-break: break-word;
}
