<div class="max-w-7xl mx-auto px-3 sm:px-4 py-6 sm:py-10 d-flex flex-justify-center">
  <div class="Box p-3 sm:p-4 w-full" style="max-width: 420px">
    <h1 class="h3 mb-3">Sign in</h1>

    @if (errorMessage()) {
      <div class="flash flash-error mb-3" role="alert">
        {{ errorMessage() }}
      </div>
    }

    <form class="d-flex flex-column gap-3" [formGroup]="form" (ngSubmit)="submit()">
      <div>
        <label class="form-label" for="login-email">Email</label>
        <input
          id="login-email"
          class="form-control input-block"
          type="email"
          autocomplete="email"
          inputmode="email"
          placeholder="you@example.com"
          formControlName="email"
          [class.border-red-500]="form.controls.email.touched && form.controls.email.invalid"
        />
        @if (form.controls.email.touched && form.controls.email.invalid) {
          <p class="text-small color-fg-danger mt-1">
            @if (form.controls.email.hasError('required')) {
              Email is required.
            } @else {
              Enter a valid email address.
            }
          </p>
        }
      </div>

      <div>
        <label class="form-label" for="login-password">Password</label>
        <input
          id="login-password"
          class="form-control input-block"
          type="password"
          autocomplete="current-password"
          placeholder="Minimum 8 characters"
          formControlName="password"
          [class.border-red-500]="form.controls.password.touched && form.controls.password.invalid"
        />
        @if (form.controls.password.touched && form.controls.password.invalid) {
          <p class="text-small color-fg-danger mt-1">
            @if (form.controls.password.hasError('required')) {
              Password is required.
            } @else {
              Password must be at least 8 characters.
            }
          </p>
        }
      </div>

      <button
        class="w-full rounded-md bg-brand py-2.5 text-white font-semibold transition hover:bg-brand-dark disabled:opacity-60 d-flex flex-items-center flex-justify-center gap-2"
        type="submit"
        [disabled]="isSubmitting()"
      >
        @if (isSubmitting()) {
          <app-spinner size="sm" />
          <span>Signing inâ€¦</span>
        } @else {
          Sign in
        }
      </button>
    </form>

    <div class="mt-3 d-flex flex-items-center flex-justify-between gap-2">
      <p class="m-0 text-small color-fg-muted">New here?</p>
      <a class="btn-brand-sm" routerLink="/login/signup">Create an account</a>
    </div>
  </div>
</div>
