<div class="max-w-7xl mx-auto px-4 py-10 d-flex flex-justify-center">
  <div class="Box p-4" style="max-width: 520px; width: 100%">
    <h1 class="h3 mb-3">Create account</h1>

    <p class="color-fg-muted">
      Optional: provide an Organization ID to join an existing org. If omitted, you'll be created as an
      Owner with no org.
    </p>

    @if (errorMessage()) {
      <div class="flash flash-error mb-3" role="alert">
        {{ errorMessage() }}
      </div>
    }

    <form class="d-flex flex-column gap-3" [formGroup]="form" (ngSubmit)="submit()">
      <div>
        <label class="form-label" for="email">Email</label>
        <input
          id="email"
          class="form-control input-block"
          type="email"
          autocomplete="email"
          formControlName="email"
        />
        @if (form.controls.email.touched && form.controls.email.invalid) {
          <p class="text-small color-fg-danger mt-1">Enter a valid email.</p>
        }
      </div>

      <div>
        <label class="form-label" for="password">Password</label>
        <input
          id="password"
          class="form-control input-block"
          type="password"
          autocomplete="new-password"
          formControlName="password"
        />
        @if (form.controls.password.touched && form.controls.password.invalid) {
          <p class="text-small color-fg-danger mt-1">
            Password must be at least 8 characters.
          </p>
        }
      </div>

      <div>
        <label class="form-label" for="organizationId">Organization ID (optional)</label>
        <input
          id="organizationId"
          class="form-control input-block"
          type="text"
          placeholder="UUID"
          formControlName="organizationId"
        />
      </div>

      <div>
        <label class="form-label" for="role">Role</label>
        <select id="role" class="form-select input-block" formControlName="role">
          @for (r of roles; track r) {
            <option [value]="r">{{ r }}</option>
          }
        </select>
      </div>

      <button class="btn btn-primary" type="submit" [disabled]="isSubmitting()">
        @if (isSubmitting()) {
          Creatingâ€¦
        } @else {
          Create account
        }
      </button>
    </form>

    <p class="mt-3 mb-0">
      Already have an account?
      <a class="Link--primary" routerLink="/login">Sign in</a>
    </p>
  </div>
</div>
